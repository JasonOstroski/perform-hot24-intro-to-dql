{"version":"5","defaultTimeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}},"sections":[{"id":"d882ccf2-7064-4ec5-8124-80b67c6c1bc9","type":"markdown","markdown":"##  Aggregations\n* The **SUMMARIZE** command groups together records that have the same values for a given field and aggregates them.\n* You can also set alias names to attributes within the summarize command.\n* The **MAKETIMESERIES** command creates a timeseries from the data in the stream. It provides a convenient way to chart raw non-metric data (such as events or logs) over time. \n\n## Exercise 1 \n1. Count the number of logs of each log level\n2. Count the number of logs of each log level and rename/alias the filed to \"level\"\n3. Count the number of logs of each log level on each host, removing \"NONE\" loglevels\n4. Visualize the number of error logs over time\n5. Visualize the number of logs of each log level over time\n6. Visualize the number of logs of each log level over time with 5 minute intervals"},{"id":"6cb50b33-ea96-46c6-8144-1823a55ef7d2","type":"dql","title":"Exercise 1.1 - Logs by Level","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}}},{"id":"31fa8848-0fe5-4c36-8e64-f7b8756e7424","type":"dql","title":"Exercise 1.2 - Logs by Level with Alias","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}}},{"id":"e84228fd-dd4c-44db-9df2-d7961ccbb38d","type":"dql","title":"Exercise 1.3 - Logs by level and host, removing NONE","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}}},{"id":"d09cbbad-16eb-45a7-b99f-b2e2dc5e52dd","type":"dql","title":"Exercise 1.4 - Error logs over time","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}}},{"id":"fc72cb42-4493-4b66-95e3-63669f622148","type":"dql","title":"Exercise 1.5 - Logs by level over time","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}}},{"id":"fa36b1e4-d96b-44a1-881a-2f64f740ca4c","type":"dql","title":"Exercise 1.6 - Logs by level over time with 5 min interval","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}}},{"id":"f4e95ad0-4a9f-411e-97d7-4efedbdff643","type":"markdown","markdown":"##  Order results with sort and limit results\n* By default, the **SORT** command sorts records in ascending order.\n* We can also limit the number of results with the **LIMIT** command.\n\n## Exercise 2\n1. I want  to see the latest error logs. Show the latest 5 error logs (descending order) in the last 30 minutes. \n2. We have some teams that are putting way too much debug logging on in production and we want to give ice cream to the teams that have the smallest amount of debug logs in production. Count the number of debug logs per log source and short them in ascending order so the winner is at the top. "},{"id":"5f592f4f-0e6f-4670-aca3-191cc2c2d570","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 2.1 - Latest 5 Error Logs"},{"id":"ddfc6c35-a345-45a6-896d-4823f7d82549","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 2.2 - Ascending Debug Log Count"}]}