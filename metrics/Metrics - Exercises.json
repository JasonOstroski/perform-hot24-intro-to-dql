{"version":"5","defaultTimeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}},"sections":[{"id":"23556987-d686-4f35-82f5-938f1b06a230","type":"markdown","markdown":"## Metrics on Grail\n* Metrics on Grail enable you to pinpoint and retrieve any metric data with the help of DQL. \n* Metrics can be trended, analyzed, and even forecasted with Davis AI!\n* [Metrics on Grail Example](https://docs.dynatrace.com/docs/shortlink/metrics-on-grail-examples)\n* [List of Metics on Grail](https://docs.dynatrace.com/docs/shortlink/built-in-metrics-on-grail) or select SUPPORTED IN GRAIL on the metrics screen\n![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/metricsongrail.jpg?raw=true)"},{"id":"931c2906-6306-410b-ad43-b84f6d51fa3e","type":"markdown","markdown":"# Exercise 1\n1. Fetch CPU load timeseries metric by host"},{"id":"fa07dbe1-8376-4e8b-8587-9e55054fc057","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now"}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 1.1 - Fetch CPU load timeseries metric by host"},{"id":"d818c0eb-0c35-4a68-9e44-7c5562d9d438","type":"markdown","markdown":"# Exercise 2\n1. Find the average timeseries for \"process cpu usage\"\n2. Filter by entity process group and entity host\n3. Use Davis forecasting to predict the trend in time\n2. Pull data from data explorer and use it in DQL\n3. Add \"TEST\" tag in filter followed by host type"},{"id":"095613c2-1a17-45ed-a1d4-19d6a8942274","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 2.1 - Find the average timeseries for \"process cpu usage\""},{"id":"6c68fd3e-5fc6-4d4f-a938-5e0146d5a272","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 2.2 - Filter on Process group and Host"},{"id":"115f5f55-1f79-4495-8650-28b8d5f9a664","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-11-22T16:05:13.818Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-29T16:05:13.818Z"}}}},"davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true},"enabled":true,"componentState":{"selectedAnalyzerName":"dt.statistics.ui.ForecastAnalyzer","inputData":{"dt.statistics.ui.ForecastAnalyzer":{"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.process_group == \"PROCESS_GROUP-216FDBEF8325B5C6\"\n| filter dt.entity.host == \"HOST-CD9076CE2003B3F5\""},"generalParameters":{"resolveDimensionalQueryData":true,"logVerbosity":"INFO","timeframe":{"startTime":"now-7d","endTime":"now"}}}},"resultState":{"dt.statistics.ui.ForecastAnalyzer":{"loadingState":"success","executionTime":"2023-12-20T15:59:26.558Z","result":{"result":{"resultId":"6dae007a9f80e5f2","resultStatus":"SUCCESSFUL","executionStatus":"COMPLETED","input":{"generalParameters":{"timeframe":{"startTime":"2023-12-13T15:59:26.914Z","endTime":"2023-12-20T15:59:26.914Z"},"resolveDimensionalQueryData":true,"logVerbosity":"INFO"},"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.process_group == \"PROCESS_GROUP-216FDBEF8325B5C6\"\n| filter dt.entity.host == \"HOST-CD9076CE2003B3F5\""},"forecastHorizon":100},"output":[{"resultTimeseries":{"records":[{"dt.davis.forecast:lower":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.020436181786791078,0.018203632792929317,0.01815471387106632,0.018105381116871787,0.018055642530809206,0.018005506306862328,0.017954980799388738,0.017904074491103487,0.017852795962383088,0.017801153862046996,0.01774915687974128,0.017696813720018176,0.017644133078176256,0.017591123617899076,0.01753779395070592,0.017484152617206823,0.01743020807013502,0.017375968659113956,0.017321442617102653,0.01726663804845201,0.017211562918496348,0.01715622504459776,0.017100632088556722,0.017044791550299296,0.016988710762750357,0.01693239688780218,0.016875856913289012,0.016819097650880212,0.016762125734807655,0.016704947621346153,0.016647569588969797,0.01658999773911115,0.016532237997454537,0.016474296115699304,0.016416177673733223,0.016357888082160866,0.01629943258513597,0.01624081626345122,0.016182044037842826,0.016123120672471247,0.01606405077854304,0.016004838818042384,0.015945489107543932,0.015886005822081814,0.01582639299905237,0.015766654542130804,0.015706794225184274,0.0156468156961662,0.015586722480978615,0.015526517987290968,0.015466205508305754,0.01540578822646255,0.015345269217073597,0.01528465145188506,0.015223937802559408,0.015163131044075035,0.015102233858040427,0.015041248835920569,0.014980178482174271,0.014919025217301464,0.01485779138080014,0.01479647923403297,0.014735090963004084,0.014673628681046835,0.014612094431423523,0.014550490189838517,0.014488817866866142,0.014427079310295132,0.014365276307391373,0.014303410587080866,0.014241483822054958,0.014179497630799854,0.01411745357955252,0.014055353184185155,0.013993197912020328,0.013930989183579023,0.013868728374263633,0.013806416815978098,0.013744055798687338,0.013681646571917935,0.013619190346202258,0.013556688294467895,0.01349414155337449,0.013431551224599764,0.013368918376076693,0.0133062440431836,0.013243529229888966,0.01318077490985262,0.013117982027485008,0.013055151498966158,0.012992284213225866,0.012929381032886596,0.012866442795170583,0.01280347031277253,0.012740464374699199,0.012677425747077295,0.01261435517393078,0.01255125337792892,0.01248812106110616,0.012424958905554978,0.012361767574092802],"dt.davis.forecast:upper":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.020436181786791078,0.020588161590883967,0.020554084277861137,0.020520420797141222,0.02048716314826128,0.020454303137238145,0.02042183240971479,0.020389742482976765,0.020358024776648144,0.02032667064191007,0.020295671389117073,0.020265018313717527,0.020234702720413448,0.020204715945521902,0.020175049377524172,0.020145694475810827,0.02011664278764923,0.020087885963416492,0.020059415770154174,0.020031224103511925,0.020003302998155996,0.01997564463672481,0.019948241357418437,0.019921085660311325,0.019894170212479113,0.019867487852030012,0.01984103159113028,0.019814794618111,0.019788770298740776,0.019762952176745233,0.019737333973650715,0.01971190958802509,0.01968667309418443,0.0196616187404298,0.019636740946873798,0.019612034302912244,0.019587493564391746,0.019563113650519985,0.019538889640561084,0.01951481677035492,0.019490890428695243,0.019467106153598188,0.019443459628489406,0.01941994667833506,0.019396563265739065,0.01937330548702651,0.019350169568330498,0.019327151861697842,0.019304248841226772,0.019281457099248066,0.019258773342559463,0.019236194388721595,0.01921371716242245,0.019191338691916044,0.019169056105540136,0.019146866628316498,0.019124767578636848,0.01910275636503637,0.01908083048305644,0.01905898751219727,0.019037225112961048,0.019015541023985266,0.018993933059265923,0.018972399105469835,0.018950937119334824,0.018929545125156672,0.018908221212361173,0.01888696353315973,0.018865770300286588,0.018844639784815854,0.018823570314056293,0.018802560269521817,0.018781608084975573,0.018760712244545473,0.018739871280909023,0.018719083773545357,0.018698348347052182,0.018677663669525633,0.0186570284510009,0.018636441441951465,0.01861590143184506,0.018595407247754166,0.018574957753019223,0.018554551845962594,0.018534188458651367,0.018513866555707286,0.01849358513316195,0.0184733432173556,0.018453139863877848,0.01843297415654872,0.018412845206438495,0.01839275215092477,0.018372694152785363,0.01835267039932563,0.018332680101538854,0.018312722493298395,0.018292796830580334,0.01827290239071546,0.01825303847166938,0.01823320439134965,0.018213399486938904],"avg(dt.process.cpu.usage)":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.009917588485717374,0.009853558115557664,0.009879300766624511,0.016044678345012168,0.021267870438492133,0.020946653094142675,0.02125909523003631,0.0210025524151408,0.021250537599229978,0.02137565027611951,0.019504209941563506,0.02096214870301386,0.020877823686330683,0.01971097136847675,0.02081661876808438,0.02057394603293182,0.020308320581292113,0.01995776870236215,0.0208138773127252,0.020679568549773344,0.019995079562067985,0.02078003896296852,0.020747917484388582,0.019666368774293612,0.02089997282018885,0.021339594951779065,0.020458521970754696,0.020408569022806154,0.021235000370587738,0.020713306869017994,0.02002051157825109,0.020004093419346544,0.019166523363027307,0.018853935428584614,0.020155976108637536,0.019800925869235975,0.018692677665967494,0.019896845948985883,0.02022365195573204,0.01872716079103864,0.019373145637412867,0.019818491716351774,0.019521614438336755,0.018619893564997863,0.019675746345375146,0.020490580513918152,0.020436181786791078,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"dt.davis.forecast:point":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.020436181786791078,0.019395897233135874,0.019354399115949574,0.019312900998763278,0.019271402881576978,0.019229904764390682,0.019188406647204382,0.019146908530018086,0.019105410412831786,0.01906391229564549,0.01902241417845919,0.018980916061272893,0.018939417944086594,0.018897919826900297,0.018856421709713998,0.018814923592527698,0.0187734254753414,0.0187319273581551,0.018690429240968805,0.018648931123782506,0.01860743300659621,0.01856593488940991,0.018524436772223613,0.018482938655037313,0.018441440537851017,0.018399942420664717,0.01835844430347842,0.01831694618629212,0.018275448069105825,0.018233949951919525,0.018192451834733225,0.01815095371754693,0.01810945560036063,0.018067957483174333,0.018026459365988033,0.017984961248801737,0.017943463131615437,0.01790196501442914,0.01786046689724284,0.017818968780056545,0.017777470662870245,0.017735972545683945,0.01769447442849765,0.017652976311311352,0.017611478194125053,0.017569980076938753,0.017528481959752457,0.017486983842566157,0.01744548572537986,0.01740398760819356,0.017362489491007264,0.017320991373820965,0.01727949325663467,0.01723799513944837,0.017196497022262072,0.017154998905075772,0.017113500787889473,0.017072002670703176,0.01703050455351688,0.01698900643633058,0.01694750831914428,0.016906010201957984,0.016864512084771684,0.016823013967585388,0.01678151585039909,0.016740017733212792,0.016698519616026492,0.016657021498840192,0.016615523381653896,0.0165740252644676,0.0165325271472813,0.016491029030095,0.016449530912908704,0.016408032795722408,0.016366534678536108,0.016325036561349808,0.01628353844416351,0.016242040326977212,0.016200542209790916,0.016159044092604616,0.01611754597541832,0.01607604785823202,0.01603454974104572,0.015993051623859424,0.015951553506673127,0.015910055389486828,0.015868557272300528,0.01582705915511423,0.015785561037927935,0.015744062920741635,0.015702564803555336,0.01566106668636904,0.01561956856918274,0.015578070451996443,0.015536572334810143,0.015495074217623847,0.015453576100437547,0.01541207798325125,0.015370579866064951,0.015329081748878653,0.015287583631692355],"timeframe":{"start":"2023-12-13T15:00Z","end":"2023-12-24T20:00Z"},"interval":"3600000000000","dt.entity.process_group":"PROCESS_GROUP-216FDBEF8325B5C6","dt.entity.host":"HOST-CD9076CE2003B3F5"}],"types":[{"indexRange":[0,0],"mappings":{"dt.entity.process_group":{"type":"string"},"dt.davis.forecast:lower":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"timeframe":{"type":"timeframe"},"dt.davis.forecast:upper":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"avg(dt.process.cpu.usage)":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"dt.davis.forecast:point":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"}}}]},"timeseriesAnnotations":[],"thresholds":[],"analysisStatus":"SUCCESS"}],"data":[]}}}},"lastExecution":{"analyzerName":"dt.statistics.ui.ForecastAnalyzer","inputData":{"dt.statistics.ui.ForecastAnalyzer":{"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.process_group == \"PROCESS_GROUP-216FDBEF8325B5C6\"\n| filter dt.entity.host == \"HOST-CD9076CE2003B3F5\""},"generalParameters":{"resolveDimensionalQueryData":true,"logVerbosity":"INFO","timeframe":{"startTime":"now-7d","endTime":"now"}}}}}},"result":{"loadingState":"success","executionTime":"2023-12-20T15:59:26.558Z","result":{"result":{"resultId":"6dae007a9f80e5f2","resultStatus":"SUCCESSFUL","executionStatus":"COMPLETED","input":{"generalParameters":{"timeframe":{"startTime":"2023-12-13T15:59:26.914Z","endTime":"2023-12-20T15:59:26.914Z"},"resolveDimensionalQueryData":true,"logVerbosity":"INFO"},"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.process_group == \"PROCESS_GROUP-216FDBEF8325B5C6\"\n| filter dt.entity.host == \"HOST-CD9076CE2003B3F5\""},"forecastHorizon":100},"output":[{"resultTimeseries":{"records":[{"dt.davis.forecast:lower":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.020436181786791078,0.018203632792929317,0.01815471387106632,0.018105381116871787,0.018055642530809206,0.018005506306862328,0.017954980799388738,0.017904074491103487,0.017852795962383088,0.017801153862046996,0.01774915687974128,0.017696813720018176,0.017644133078176256,0.017591123617899076,0.01753779395070592,0.017484152617206823,0.01743020807013502,0.017375968659113956,0.017321442617102653,0.01726663804845201,0.017211562918496348,0.01715622504459776,0.017100632088556722,0.017044791550299296,0.016988710762750357,0.01693239688780218,0.016875856913289012,0.016819097650880212,0.016762125734807655,0.016704947621346153,0.016647569588969797,0.01658999773911115,0.016532237997454537,0.016474296115699304,0.016416177673733223,0.016357888082160866,0.01629943258513597,0.01624081626345122,0.016182044037842826,0.016123120672471247,0.01606405077854304,0.016004838818042384,0.015945489107543932,0.015886005822081814,0.01582639299905237,0.015766654542130804,0.015706794225184274,0.0156468156961662,0.015586722480978615,0.015526517987290968,0.015466205508305754,0.01540578822646255,0.015345269217073597,0.01528465145188506,0.015223937802559408,0.015163131044075035,0.015102233858040427,0.015041248835920569,0.014980178482174271,0.014919025217301464,0.01485779138080014,0.01479647923403297,0.014735090963004084,0.014673628681046835,0.014612094431423523,0.014550490189838517,0.014488817866866142,0.014427079310295132,0.014365276307391373,0.014303410587080866,0.014241483822054958,0.014179497630799854,0.01411745357955252,0.014055353184185155,0.013993197912020328,0.013930989183579023,0.013868728374263633,0.013806416815978098,0.013744055798687338,0.013681646571917935,0.013619190346202258,0.013556688294467895,0.01349414155337449,0.013431551224599764,0.013368918376076693,0.0133062440431836,0.013243529229888966,0.01318077490985262,0.013117982027485008,0.013055151498966158,0.012992284213225866,0.012929381032886596,0.012866442795170583,0.01280347031277253,0.012740464374699199,0.012677425747077295,0.01261435517393078,0.01255125337792892,0.01248812106110616,0.012424958905554978,0.012361767574092802],"dt.davis.forecast:upper":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.020436181786791078,0.020588161590883967,0.020554084277861137,0.020520420797141222,0.02048716314826128,0.020454303137238145,0.02042183240971479,0.020389742482976765,0.020358024776648144,0.02032667064191007,0.020295671389117073,0.020265018313717527,0.020234702720413448,0.020204715945521902,0.020175049377524172,0.020145694475810827,0.02011664278764923,0.020087885963416492,0.020059415770154174,0.020031224103511925,0.020003302998155996,0.01997564463672481,0.019948241357418437,0.019921085660311325,0.019894170212479113,0.019867487852030012,0.01984103159113028,0.019814794618111,0.019788770298740776,0.019762952176745233,0.019737333973650715,0.01971190958802509,0.01968667309418443,0.0196616187404298,0.019636740946873798,0.019612034302912244,0.019587493564391746,0.019563113650519985,0.019538889640561084,0.01951481677035492,0.019490890428695243,0.019467106153598188,0.019443459628489406,0.01941994667833506,0.019396563265739065,0.01937330548702651,0.019350169568330498,0.019327151861697842,0.019304248841226772,0.019281457099248066,0.019258773342559463,0.019236194388721595,0.01921371716242245,0.019191338691916044,0.019169056105540136,0.019146866628316498,0.019124767578636848,0.01910275636503637,0.01908083048305644,0.01905898751219727,0.019037225112961048,0.019015541023985266,0.018993933059265923,0.018972399105469835,0.018950937119334824,0.018929545125156672,0.018908221212361173,0.01888696353315973,0.018865770300286588,0.018844639784815854,0.018823570314056293,0.018802560269521817,0.018781608084975573,0.018760712244545473,0.018739871280909023,0.018719083773545357,0.018698348347052182,0.018677663669525633,0.0186570284510009,0.018636441441951465,0.01861590143184506,0.018595407247754166,0.018574957753019223,0.018554551845962594,0.018534188458651367,0.018513866555707286,0.01849358513316195,0.0184733432173556,0.018453139863877848,0.01843297415654872,0.018412845206438495,0.01839275215092477,0.018372694152785363,0.01835267039932563,0.018332680101538854,0.018312722493298395,0.018292796830580334,0.01827290239071546,0.01825303847166938,0.01823320439134965,0.018213399486938904],"avg(dt.process.cpu.usage)":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.009917588485717374,0.009853558115557664,0.009879300766624511,0.016044678345012168,0.021267870438492133,0.020946653094142675,0.02125909523003631,0.0210025524151408,0.021250537599229978,0.02137565027611951,0.019504209941563506,0.02096214870301386,0.020877823686330683,0.01971097136847675,0.02081661876808438,0.02057394603293182,0.020308320581292113,0.01995776870236215,0.0208138773127252,0.020679568549773344,0.019995079562067985,0.02078003896296852,0.020747917484388582,0.019666368774293612,0.02089997282018885,0.021339594951779065,0.020458521970754696,0.020408569022806154,0.021235000370587738,0.020713306869017994,0.02002051157825109,0.020004093419346544,0.019166523363027307,0.018853935428584614,0.020155976108637536,0.019800925869235975,0.018692677665967494,0.019896845948985883,0.02022365195573204,0.01872716079103864,0.019373145637412867,0.019818491716351774,0.019521614438336755,0.018619893564997863,0.019675746345375146,0.020490580513918152,0.020436181786791078,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"dt.davis.forecast:point":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.020436181786791078,0.019395897233135874,0.019354399115949574,0.019312900998763278,0.019271402881576978,0.019229904764390682,0.019188406647204382,0.019146908530018086,0.019105410412831786,0.01906391229564549,0.01902241417845919,0.018980916061272893,0.018939417944086594,0.018897919826900297,0.018856421709713998,0.018814923592527698,0.0187734254753414,0.0187319273581551,0.018690429240968805,0.018648931123782506,0.01860743300659621,0.01856593488940991,0.018524436772223613,0.018482938655037313,0.018441440537851017,0.018399942420664717,0.01835844430347842,0.01831694618629212,0.018275448069105825,0.018233949951919525,0.018192451834733225,0.01815095371754693,0.01810945560036063,0.018067957483174333,0.018026459365988033,0.017984961248801737,0.017943463131615437,0.01790196501442914,0.01786046689724284,0.017818968780056545,0.017777470662870245,0.017735972545683945,0.01769447442849765,0.017652976311311352,0.017611478194125053,0.017569980076938753,0.017528481959752457,0.017486983842566157,0.01744548572537986,0.01740398760819356,0.017362489491007264,0.017320991373820965,0.01727949325663467,0.01723799513944837,0.017196497022262072,0.017154998905075772,0.017113500787889473,0.017072002670703176,0.01703050455351688,0.01698900643633058,0.01694750831914428,0.016906010201957984,0.016864512084771684,0.016823013967585388,0.01678151585039909,0.016740017733212792,0.016698519616026492,0.016657021498840192,0.016615523381653896,0.0165740252644676,0.0165325271472813,0.016491029030095,0.016449530912908704,0.016408032795722408,0.016366534678536108,0.016325036561349808,0.01628353844416351,0.016242040326977212,0.016200542209790916,0.016159044092604616,0.01611754597541832,0.01607604785823202,0.01603454974104572,0.015993051623859424,0.015951553506673127,0.015910055389486828,0.015868557272300528,0.01582705915511423,0.015785561037927935,0.015744062920741635,0.015702564803555336,0.01566106668636904,0.01561956856918274,0.015578070451996443,0.015536572334810143,0.015495074217623847,0.015453576100437547,0.01541207798325125,0.015370579866064951,0.015329081748878653,0.015287583631692355],"timeframe":{"start":"2023-12-13T15:00Z","end":"2023-12-24T20:00Z"},"interval":"3600000000000","dt.entity.process_group":"PROCESS_GROUP-216FDBEF8325B5C6","dt.entity.host":"HOST-CD9076CE2003B3F5"}],"types":[{"indexRange":[0,0],"mappings":{"dt.entity.process_group":{"type":"string"},"dt.davis.forecast:lower":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"timeframe":{"type":"timeframe"},"dt.davis.forecast:upper":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"avg(dt.process.cpu.usage)":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"dt.davis.forecast:point":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"}}}]},"timeseriesAnnotations":[],"thresholds":[],"analysisStatus":"SUCCESS"}],"data":[]}}}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 2.3 - Use Davis forecasting to predict the trend in time"},{"id":"1d78dd9f-1c22-4431-b1d9-436f60eacdd7","type":"markdown","markdown":"## Exercise 2.4\n* Navigate to the data explorer and paste the below metric expression in advanced mode\n```builtin:host.cpu.usage:avg:splitBy(\"dt.entity.host\"):filter(and(in(\"dt.entity.host\",entitySelector(\"type(host)\"))))```\n* Open with Notebook to build the DQL from the metric expression\n![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/dataexplorer.jpg?raw=true)"},{"id":"09243614-79fa-4328-94b2-ae652591c8b1","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-2h","to":"now","details":{"from":{"type":"expression","normalized":"now-2h","date":"2023-11-17T17:17:18.675Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-17T19:17:18.675Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 2.4"},{"id":"e8b7853a-05e7-414f-95c4-88a711db3aba","type":"markdown","markdown":"## Exercise 2.5\n* Navigate to the hosts screen, add TEST as a manual tag (Key)\n* Navigate to data explorer and graph \"CPU Usage %\", split by HOST, Filter by host tag: TEST.\n* Open with... Notebooks and choose your Metrics notebook\n"},{"id":"8e9e2cc5-ff2a-44d9-abca-66713f9fef43","type":"dql","showTitle":false,"state":{"input":{"value":"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-19T20:51:08.122Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-19T21:21:08.122Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}},"title":"Exercise 2.4"},{"id":"ea6769ba-e3f9-40b5-8c97-0ca85ec9d0ab","type":"markdown","markdown":"# Exercise 3\n1. Explore Metrics in Notebook tile! (Currently an early adopter feature, more options to come!)"},{"id":"7640c4ef-bd5e-4ef7-83ec-181ddeb25c88","type":"dql","title":"Explore metrics","showTitle":true,"queryConfig":{"additionalFilters":{},"version":"3.3.0","datatype":"metrics","metricKey":"dt.host.cpu.iowait","aggregation":"avg","by":[]},"state":{"input":{"value":"timeseries avg(dt.host.cpu.iowait)","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-11-22T16:05:13.818Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-29T16:05:13.818Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","isBackgroundThresholdActive":false},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}}}}]}